<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=800, initial-scale=1.0" />
    <title>~The Lost Pokémons~</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" type="image/png" href="../favicon.ico" />
  </head>
  <body>
    <!-- Game Root -->
    <div id="game-root">
      <!-- Title Screen-->
      <section id="title-screen" class="screen hidden">
        <div class="logo" alt="Game Logo"></div>
        <p class="press-any">Press any button to start</p>
      </section>

      <!-- Main menu Screen-->
      <section id="main-menu-screen" class="menu screen hidden">
        <button class="pixel-box pixel-box--menu" id="btn-play">
          게임하기
        </button>
        <button class="pixel-box pixel-box--menu" id="btn-ranking">
          랭킹보기
        </button>
        <button class="pixel-box pixel-box--menu btn-options" title="Options">
          환경설정
        </button>
        <button
          class="pixel-box pixel-box--menu"
          id="btn-credits"
          title="Options"
        >
          크레딧
        </button>
      </section>

      <!-- Select mode Screen-->
      <section id="select-mode-menu-screen" class="menu screen hidden">
        <button class="pixel-box pixel-box--menu" id="btn-story">
          스토리 모드
        </button>
        <button class="pixel-box pixel-box--menu" id="btn-score">
          점수 모드
        </button>
        <button
          class="pixel-box pixel-box--menu"
          id="btn-select-to-main"
          class="back"
        >
          뒤로가기
        </button>
      </section>

      <!-- Select Difficulty Screen-->
      <section id="difficulty-menu-screen" class="menu screen hidden">
        <h2>난이도를 선택하세요</h2>
        <button
          class="pixel-box pixel-box--menu btn-difficulty"
          data-difficulty="easy"
        >
          쉬움
        </button>
        <button
          class="pixel-box pixel-box--menu btn-difficulty"
          data-difficulty="normal"
        >
          보통
        </button>
        <button
          class="pixel-box pixel-box--menu btn-difficulty"
          data-difficulty="hard"
        >
          어려움
        </button>
        <button
          class="pixel-box pixel-box--menu"
          id="btn-back-to-select-mode-menu-screen"
          class="back"
        >
          뒤로가기
        </button>
      </section>

      <!-- Story Screen-->
      <section id="story-screen" class="screen hidden">
        <div id="story-illustration"></div>
        <button id="btn-skip-story" class="btn-skip">> Skip</button>
        <div id="story-textbox" class="hidden">
          <span id="story-potrait" class="hidden"></span>
          <span id="story-line"></span>
          <span class="story-next-indicator">▼</span>
        </div>
      </section>

      <!-- CRT console screen -->
      <section id="crt-console-screen" class="screen hidden">
        <div class="crt" id="crt-terminal">
          <pre id="crt-console-text"></pre>
        </div>
        <button id="btn-skip-story" class="btn-skip">> Skip</button>
      </section>

      <!-- Ranking screen -->
      <section id="ranking-screen" class="screen hidden">
        <div class="ranking-container">
          <div class="ranking-row">
            <div class="ranking-label">모드</div>
            <div class="ranking-mode-tabs">
              <button class="ranking-tab active" data-mode="story">
                스토리
              </button>
              <button class="ranking-tab" data-mode="score">스코어</button>
            </div>
          </div>
          <div class="ranking-row">
            <div class="ranking-label">난이도</div>
            <div class="ranking-difficulty-tabs">
              <button class="difficulty-tab active" data-difficulty="easy">
                쉬움
              </button>
              <button class="difficulty-tab" data-difficulty="normal">
                보통
              </button>
              <button class="difficulty-tab" data-difficulty="hard">
                어려움
              </button>
            </div>
          </div>
          <div class="scoreboard"></div>
          <button
            id="btn-ranking-to-main"
            class="pixel-box ranking-back"
            style="margin-top: 28px"
          >
            뒤로가기
          </button>
        </div>
      </section>

      <!-- Credits screen -->
      <section id="credits-screen" class="screen hidden">
        <div id="credits-root">
          <div id="credits-scroll"></div>
          <button id="btn-skip-credits" class="btn-skip">> Skip</button>
        </div>
      </section>

      <!-- game play screen -->
      <section id="gameplay-screen" class="screen hidden">
        <div id="game-container">
          <div class="mode-selection">
            <button id="brickModeButton" class="mode-button active">
              벽돌깨기 게임
            </button>
            <button id="bossModeButton" class="mode-button">보스전</button>
          </div>

          <div id="game-info-indicator">
            <span class="score-info"
              >SCORE :&nbsp;<span id="score">0</span></span
            >
            <span id="timer-container"
              >TIME :&nbsp;<span id="timer">02:00</span></span
            >
          </div>
          <canvas id="game-canvas" width="800" height="533"></canvas>
          <div class="controls">
            <button id="startButton" tabindex="-1">게임 시작</button>
            <button id="pauseButton" tabindex="-1">일시 정지</button>
            <button id="restartButton" tabindex="-1">다시 시작</button>
          </div>
          <!-- pokemon slot 위에 표시되는 frame -->
          <div id="pokemon-slot-frame-container">
            <div id="slot-frame-0" class="pokemon-slot-frame selected"></div>
            <div id="slot-frame-1" class="pokemon-slot-frame"></div>
            <div id="slot-frame-2" class="pokemon-slot-frame"></div>
            <div id="slot-frame-3" class="pokemon-slot-frame"></div>
          </div>
          <!-- 실제로 pokemon이 들어가는 slot -->
          <div id="pokemon-slot-container" class="">
            <div class="pokemon-slot" id="slot-0"></div>
            <div class="pokemon-slot" id="slot-1"></div>
            <div class="pokemon-slot" id="slot-2"></div>
            <div class="pokemon-slot" id="slot-3"></div>
          </div>
          <button id="pause-button" class="pixel-box">일시정지</button>
        </div>
      </section>

      <!-- game result screen -->
      <section id="game-result-screen" class="screen hidden">
        <div id="game-result-root" class="pixel-box">
          <h2 class="game-result-title">게임 결과</h2>
          <div id="game-result-contents"></div>
          <button id="btn-game-result-ok" class="pixel-box">확인</button>
        </div>
      </section>
    </div>

    <!-- Check save or not -->
    <dialog id="ranking-save-modal" class="pixel-box" style="width: 540px">
      <div style="padding-top: 20px; text-align: center">
        게임 결과를 랭킹에 저장하시겠습니까?<br />'아니오'를 누르면 타이틀로
        돌아갑니다.<br />
        <button
          id="ranking-save-yes"
          class="pixel-box modal-inner-button"
          style="margin: 10px 4px"
        >
          예
        </button>
        <button
          id="ranking-save-no"
          class="pixel-box modal-inner-button"
          style="margin: 10px 4px"
        >
          아니오
        </button>
      </div>
    </dialog>

    <!-- Input Nickname modal -->
    <dialog id="nickname-modal" class="pixel-box">
      <form method="dialog" style="padding: 18px; text-align: center">
        <div>닉네임을 입력하세요:</div>
        <input
          id="nickname-input"
          class="pixel-input"
          type="text"
          maxlength="10"
          size="10"
          style="width: 10em"
          autocomplete="off"
          placeholder=""
        />

        <br />
        <button
          id="nickname-ok"
          class="pixel-box modal-inner-button"
          style="margin: 10px 4px"
        >
          저장
        </button>
      </form>
    </dialog>

    <!-- Confirm skip modal -->
    <dialog id="confirm-skip-modal" class="pixel-box">
      <div style="padding: 12px; text-align: center">
        정말로 스킵하시겠습니까?<br />
        <button
          id="skip-confirm-yes"
          class="pixel-box modal-inner-button"
          style="margin: 10px 4px"
        >
          네
        </button>
        <button
          id="skip-confirm-no"
          class="pixel-box modal-inner-button"
          style="margin: 10px 4px"
        >
          아니오
        </button>
      </div>
    </dialog>

    <dialog id="info-modal" class="pixel-box">
      <div style="padding: 12px; text-align: center">
        <span id="info-content"></span>
        <button
          id="info-confirm-yes"
          class="pixel-box modal-inner-button"
          style="margin: 10px 4px"
        >
          확인
        </button>
      </div>
    </dialog>

    <!-- Option modal -->
    <dialog id="options-modal" class="pixel-box">
      <h3>환경설정</h3>
      <label>
        효과음&nbsp;볼륨
        <input
          type="range"
          id="sfx-volume"
          min="0"
          max="1"
          step="0.01"
          value="0.5"
        />
      </label>
      <label>
        배경음악&nbsp;볼륨
        <input
          type="range"
          id="bgm-volume"
          min="0"
          max="1"
          step="0.01"
          value="0.5"
        />
      </label>
      <button id="modal-close" class="pixel-box modal-inner-button">X</button>
    </dialog>

    <!-- Sound -->
    <audio id="crt-type-sfx" preload="auto"></audio>
    <audio id="crt-off-sfx" preload="auto"></audio>
    <audio id="bgm" autoplay loop></audio>
    <audio id="sfx" preload="auto"></audio>
    <!-- JS Scripts-->
    <script src="js/data.js"></script>
    <script src="js/demo-data.js"></script>
    <script src="js/helpers.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/animation.js"></script>
    <script src="js/modal.js"></script>
    <!-- game 관련 start -->
    <script src="js/game/models/gameManager.js"></script>
    <script src="js/game/utils.js"></script>
    <script src="js/game/models/brick.js"></script>
    <script src="js/game/brickGame.js"></script>
    <script src="js/game/bossGame.js"></script>
    <!-- game 관련 end -->
    <script src="js/game-result.js"></script>
    <script src="js/credits.js"></script>
    <script src="js/gameplay-manager.js"></script>
    <script src="js/stage-manager.js"></script>
    <script src="js/story-manager.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/options.js"></script>
    <script src="js/ranking.js"></script>
    <script src="js/main.js"></script>
    <!-- game 관련 js script -->
    <script src="js/game/main.js"></script>
  </body>
</html>
